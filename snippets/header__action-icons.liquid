{% comment %}Assign object as block or section{% endcomment %}
{% if type == 'block' %}
  {%- assign object = block -%}
{% else %}
  {%- assign object = section -%}
{% endif %}
{%- assign icon = settings.icon -%}

{%- assign locale_selector = false -%}
{%- assign currency_selector = false -%}

{%- if object.settings.show_currency_selector and shop.enabled_currencies.size > 1 or localization.available_countries.size > 1 -%}
  {%- assign currency_selector = true -%}
{%- endif -%}

{%- if object.settings.show_locale_selector and shop.published_locales.size > 1 -%}
  {%- assign locale_selector = true -%}
{%- endif -%}

<div class="header__icons header__icon-style-{{ icon_style | replace: '_', '-' }} {{ header_icon_class }}">


  {% comment %} Currency converter select {% endcomment %}
  <div class="header__link">
    {% render 'localization-switcher',
      additional_classes: 'header-menu__disclosure',
      id: 'header__selector-form--action-icons',
      currency_selector: currency_selector,
      locale_selector: locale_selector,
      show_currency: section.settings.show_currency_selector
    %}
  </div>

  {% if display_search %}
    <a
      class="
        header__link
        action-area__link
      "
      data-show-search-trigger
      tabindex="0"
    >
      {%
        render 'icon',
        name: 'search',
        icon_class: 'header__icon',
      %}

      <span class="icon-caption">
        {{- 'general.search.title' | t | escape -}}
      </span>
    </a>
  {% endif %}
  <form action="/search" method="get" class="input-group search-bar convDeskSearch" role="search">
      <input type="hidden" name="type" value="product">
      <input type="search" name="q" value="{{ search.terms | escape }}" placeholder="What are you looking for?" class="input-group-field" aria-label="{{ 'general.search.placeholder' | t }}">
      <span class="input-group-btn">
        <button type="submit" class="btn icon-fallback-text">
          {% render 'icon',
                name: 'search',
          icon_class: 'header__icon'
          %}
          <span class="icon-caption">{{ 'general.search.title' | t | escape }}</span>
        </button>
      </span>
    </form>
   <!-- <a href="#swym-wishlist" class="swym-wishlist convWishlist">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_1205_25)"><path d="M16.5461 2.55674C15.6036 1.61419 14.3558 1.09903 13.024 1.09903C11.6922 1.09903 10.4406 1.61801 9.49802 2.56055L9.00576 3.05281L8.50586 2.55292C7.56332 1.61037 6.30786 1.08759 4.97609 1.08759C3.64813 1.08759 2.39648 1.60656 1.45775 2.54529C0.515208 3.48783 -0.00376456 4.73948 5.14128e-05 6.07125C5.14128e-05 7.40303 0.52284 8.65085 1.46539 9.5934L8.63179 16.7598C8.73101 16.859 8.86457 16.9124 8.99431 16.9124C9.12405 16.9124 9.25761 16.8628 9.35683 16.7636L16.5385 9.60866C17.481 8.66612 18 7.41447 18 6.0827C18.0038 4.75092 17.4887 3.49928 16.5461 2.55674ZM15.8135 8.87981L8.99431 15.6722L2.19042 8.86836C1.44249 8.12043 1.03037 7.12828 1.03037 6.07125C1.03037 5.01423 1.43867 4.02207 2.18661 3.27796C2.93072 2.53384 3.92288 2.12172 4.97609 2.12172C6.03311 2.12172 7.02908 2.53384 7.77701 3.28177L8.63942 4.14418C8.84167 4.34643 9.16603 4.34643 9.36827 4.14418L10.2231 3.2894C10.971 2.54147 11.967 2.12935 13.0202 2.12935C14.0734 2.12935 15.0655 2.54147 15.8135 3.28559C16.5614 4.03352 16.9697 5.02567 16.9697 6.0827C16.9735 7.13972 16.5614 8.13188 15.8135 8.87981Z" fill="black"/></g>
        <defs><clipPath id="clip0_1205_25"><rect width="18" height="18" fill="white"/></clipPath></defs>
      </svg>
    </a> -->
  {% if shop.customer_accounts_enabled %}
    {% comment %} Account icon {% endcomment %}
    {% if customer %}
      {% comment %} Logout {% endcomment %}
      <a href="{{ routes.account_url }}" class="header__link action-area__link" >
          {% render 'icon',
                  name: 'avatar',
                  icon_class: 'header__icon'
          %}
          <span class="icon-caption">{{ 'layout.customer.my_account' | t | escape }}</span>
      </a>
    {% else %}
      {% comment %} Login {% endcomment %}
      <a href="{{ routes.account_login_url }}" class="header__link action-area__link" >
          {% render 'icon',
                  name: 'avatar',
                  icon_class: 'header__icon'
          %}
          <span class="icon-caption">{{ 'layout.customer.log_in' | t | escape }}</span>
      </a>
    {% endif %}
  {% endif %}

  {% comment %} Cart icon {% endcomment %}
  <div class="header-cart action-area__link {% if cart.item_count != 0 %}has-cart-count{% endif %}" data-ajax-cart-trigger>
    <a class="header__link" href="{{ routes.cart_url }}" >
      <span class="header-cart__icon">
        {% render 'icon',
                name: settings.cart_icon,
                icon_class: 'header__icon'
        %}
        <span class="header-cart__count header-cart__count--badge badge" data-bind="itemCount">
          {{ cart.item_count }}
        </span>
      </span>
      <span class="header-cart__caption icon-caption">
        {{ 'layout.general.cart' | t | escape }}
        {%- if icon_style == 'text' -%}
          <span class="header-cart__count cart__count--text" data-bind="itemCount">{{ cart.item_count }}</span>
        {%- endif -%}
      </span>
    </a>
    {% if settings.cart_action == 'mini_cart' %}
      {% render 'ajax-cart' %}
    {% endif %}
  </div>
</div>
